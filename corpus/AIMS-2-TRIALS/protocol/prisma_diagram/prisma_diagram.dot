digraph PRISMA {
  rankdir = TB
  labelloc = "t"
  label = "PRISMA Flow Diagram (Draft 0.3)"
  fontsize = 16
  fontname = "Helvetica-Bold"
  nodesep = 0.25
  ranksep = 0.35
  node [shape=box, fontname="Helvetica", fontsize=10, style=filled]
  edge [color=gray40]

  /* — Sources — */
  subgraph cluster_sources {
    label = ""
    rank = same
    S1 [label="Dimensions search\n(n=…)",    width=2, fillcolor="#fff8e1", color="#fbc02d"];
    S2 [label="Europe PMC search\n(n=…)",    width=2, fillcolor="#fff8e1", color="#fbc02d"];
    S3 [label="CORDIS records\n(n=…)",       width=2, fillcolor="#fff8e1", color="#fbc02d"];
    S4 [label="Project-site records\n(n=…)", width=2, fillcolor="#fff8e1", color="#fbc02d"];
  }

  /* — Datasets — */
  D1 [label="Dataset 1: distinct records\n(n=…)", width=2, fillcolor="#e8f5e9", color="#2e7d32", fontcolor="#1b5e20"];
  D2 [label="Dataset 2: final corpus\n(n=…)",    width=2, fillcolor="#e8f5e9", color="#2e7d32"];

  /* — Exclusions — */
  X1  [label="Exclude: No autism terms\n(n=…)",             width=2, fillcolor="#ffebee", color="#c62828"];
  X2  [label="Exclude: Duplicate preprint\n(n=…)",          width=2, fillcolor="#ffebee", color="#c62828"];
  X3  [label="Exclude: Not English\n(n=…)",                 width=2, fillcolor="#ffebee", color="#c62828"];
  X4  [label="Exclude: Not autism-related\n(n=…)",          width=2, fillcolor="#ffebee", color="#c62828"];
  X5  [label="Exclude: A2T only in text/refs\n(n=…)",       width=2, fillcolor="#ffebee", color="#c62828"];
  XF1 [label="Exclude: A2T funding not explicit\n(n=…)",    width=2, fillcolor="#ffebee", color="#c62828"];

  /* — Flux — */
  S1 -> D1;  S2 -> D1;  S3 -> D1;  S4 -> D1;
  D1 -> X1 -> X2 -> X3 -> X4 -> X5 -> XF1 -> D2;

}
